<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="8161px" height="5291px" viewBox="-0.5 -0.5 8161 5291"><defs/><g><rect x="0" y="720" width="560" height="580" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 727px; margin-left: 2px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style=""><p style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; margin: 0px;"><span style="color:#646464;">@Component</span></p><p style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; margin: 0px;"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">DrawAndChatAppSessionInit</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">implements</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">ApplicationListener</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">StageReadyEvent</span><span style="color:#000000;">&gt; {</span></p><p style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Autowired</span></p><p style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">  </span><span style="color: rgb(0, 0, 255); font-style: italic;">public</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(234, 117, 0); font-weight: bold;">SessionManager</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 191);">sessionManager</span><span style="color: rgb(0, 0, 0);">;</span></span></p><p style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; margin: 0px;"><br /></p></div></div><br /><br /><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">Button</span><span style="color:#000000;"> </span><span style="color:#808080;">button_New</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Button</span><span style="color:#000000;">();</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(128, 128, 128);">button_New</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">setText</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(100, 70, 50); font-weight: bold;">SessionNewOrLoadOrReceive</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 192); font-style: italic; font-weight: bold;">NewUseSend</span><span style="color: rgb(0, 0, 0);"> + </span><span style="color: rgb(128, 0, 0);">" - "</span><span style="color: rgb(0, 0, 0);"> + </span><span style="color: rgb(100, 70, 50); font-weight: bold;">MsgConnRole</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 192); font-style: italic; font-weight: bold;">Host</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#808080;">button_New</span><span style="color:#000000;">.</span><span style="color:#800080;">setMnemonicParsing</span><span style="color:#000000;">(</span><span style="color:#0000ff;font-style:italic;">false</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#808080;">button_New</span><span style="color:#000000;">.</span><span style="color:#800080;">addEventHandler</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">MouseEvent</span><span style="color:#000000;">.</span><span style="font-style:italic;font-weight:bold;text-decoration:underline;text-decoration-style:solid;text-decoration-color:#0066cc;color:#0066cc;">MOUSE_PRESSED</span><span style="color:#000000;">, (</span><span style="color:#808080;">event</span><span style="color:#000000;">) -&gt; {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#808080;">event</span><span style="color:#000000;">.</span><span style="color:#800080;">isControlDown</span><span style="color:#000000;">() &amp;&amp; !</span><span style="color:#808080;">event</span><span style="color:#000000;">.</span><span style="color:#800080;">isAltDown</span><span style="color:#000000;">() &amp;&amp; !</span><span style="color:#808080;">event</span><span style="color:#000000;">.</span><span style="color:#800080;">isShiftDown</span><span style="color:#000000;">() &amp;&amp; </span><span style="color:#808080;">event</span><span style="color:#000000;">.</span><span style="color:#800080;">isPrimaryButtonDown</span><span style="color:#000000;">()) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//        textArea_info.appendText("&gt;&gt; clicked :: " + SessionNewOrLoadOrReceive.NewUseSend + " :: " + Instant.now() + "\n");</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; clicked :: "</span><span style="color:#000000;"> + </span><span style="color:#644632;font-weight:bold;">SessionNewOrLoadOrReceive</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">NewUseSend</span><span style="color:#000000;"> + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">Instant</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">now</span><span style="color:#000000;">());</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//        init_Session_NewUseSend();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//        System.err.println("Test </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">Stderr</span><span style="color:#3f7f5f;">"); // seems the console is no longer red? .. but before seems able to ... </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//        new Error().printStackTrace();</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">        </span><span style="color: rgb(128, 0, 128);">init_Session_NewUseSend</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">cb_det_AllowDbOverwriteOrAppend_New</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">isSelected</span><span style="color: rgb(0, 0, 0);">(), </span><span style="color: rgb(128, 128, 128);">cb_ForceUseGivenDb_New</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">getSelectionModel</span><span style="color: rgb(0, 0, 0);">().</span><span style="color: rgb(128, 0, 128);">getSelectedItem</span><span style="color: rgb(0, 0, 0);">());</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    });</span></p></div></div><br /><br /><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">init_Session_NewUseSend</span><span style="color:#000000;">(</span><span style="color:#0000ff;font-style:italic;">boolean</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">det_AllowDbOverwriteOrAppend</span><span style="color:#000000;">, </span><span style="color:#644632;font-weight:bold;">DbName</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">dbName</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">Stage</span><span style="color:#000000;"> </span><span style="color:#808080;">stage</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Stage</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    Integer ind_ForceUseDb_debug = null;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    if (det_ForceUseDb01_debug) { ind_ForceUseDb_debug = 0; }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#808080;">windowSession</span><span style="color:#000000;"> = </span><span style="color:#ea7500;font-weight:bold;">SessionManager</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">setup_WindowSession</span><span style="color:#000000;">(</span><span style="color:#0000bf;">sessionManager</span><span style="color:#000000;">, </span><span style="color:#808080;">stage</span><span style="color:#000000;">, </span><span style="color:#644632;font-weight:bold;">SessionNewOrLoadOrReceive</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">NewUseSend</span><span style="color:#000000;">, </span><span style="color:#408080;font-style:italic;">det_AllowDbOverwriteOrAppend</span><span style="color:#000000;">, </span><span style="color:#408080;font-style:italic;">dbName</span><span style="color:#000000;">);</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(128, 128, 128);">windowSession</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">drawAndChatVm</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(0, 0, 255); font-style: italic;">new</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">DrawAndChatVm</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">windowSession</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    stage.setOnCloseRequest(windowSession.get_StageShutdownEventHandler()); // @messy</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#808080;">windowSession</span><span style="color:#000000;">.</span><span style="color:#0000bf;">drawAndChatVm</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSender_ConvertWrapper</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSender_EventAnnouncer</span><span style="color:#000000;">.</span><span style="color:#800080;">send_SessionBeignEvent</span><span style="color:#000000;">();</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(128, 128, 128);">windowSession</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">drawAndChatVm</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">initAppPanel</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">stage</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#3f7f5f;">//      windowSession.drawAndChatVm.nodeReceiver_EventListener = new NodeReceiver_EventListener(windowSession); // @messy // moved inside</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">windowSession</span><span style="color:#000000;">.</span><span style="color:#0000bf;">drawAndChatVm</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeReceiver_EventListener</span><span style="color:#000000;">.</span><span style="color:#800080;">listen_forGeneralNodeEvent</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; init_Session() :: det_DisableReceiveNetworkMsg_Kafka :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p></div></div></div></div></div></foreignObject><text x="2" y="739" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">@Component...</text></switch></g><rect x="1590" y="70" width="560" height="640" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 77px; margin-left: 1592px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">static</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#800080;background-color:#d4d4d4;">setup_WindowSession</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">SessionManager</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">sessionManager</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-weight:bold;">Stage</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">stage</span><span style="color:#000000;">, </span><span style="color:#644632;font-weight:bold;">SessionNewOrLoadOrReceive</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">sessionNewOrLoadOrReceive</span><span style="color:#000000;">, </span><span style="color:#0000ff;font-style:italic;">boolean</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">det_AllowDbOverwriteOrAppend</span><span style="color:#000000;">, </span><span style="color:#644632;font-weight:bold;">DbName</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">dbName</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; setup_WindowSession "</span><span style="color:#000000;"> + </span><span style="color:#408080;font-style:italic;">sessionManager</span><span style="color:#000000;">.</span><span style="color:#0000bf;">em_01</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; setup_WindowSession "</span><span style="color:#000000;"> + </span><span style="color:#408080;font-style:italic;">sessionManager</span><span style="color:#000000;">.</span><span style="color:#0000bf;">em_02</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#408080;font-style:italic;">sessionNewOrLoadOrReceive</span><span style="color:#000000;"> == </span><span style="color:#644632;font-weight:bold;">SessionNewOrLoadOrReceive</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">NewUseSend</span><span style="color:#000000;">) {</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">      </span><span style="color: rgb(234, 117, 0); font-weight: bold;">WindowSession</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 128, 128);">windowSession</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(0, 0, 255); font-style: italic;">new</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">WindowSession</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(64, 128, 128); font-style: italic;">sessionNewOrLoadOrReceive</span><span style="color: rgb(0, 0, 0);">, </span><span style="color: rgb(100, 70, 50); font-weight: bold;">MsgConnRole</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 192); font-style: italic; font-weight: bold;">Host</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#408080;font-style:italic;">sessionManager</span><span style="color:#000000;">.</span><span style="color:#0000bf;">arr_windowSession</span><span style="color:#000000;">.</span><span style="color:#800080;">add</span><span style="color:#000000;">(</span><span style="color:#808080;">windowSession</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">) {</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">        </span><span style="color: rgb(128, 128, 128);">windowSession</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">kafkaConfig</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">init</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(234, 117, 0); font-weight: bold;">StaticValueDebug_Kafka</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 192); font-weight: bold;">kTopicName_NodeEvent_All_Prepend</span><span style="color: rgb(0, 0, 0);"> + </span><span style="color: rgb(100, 70, 50); font-weight: bold;">MsgConnRole</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 192); font-style: italic; font-weight: bold;">Host</span><span style="color: rgb(0, 0, 0);">, </span><span style="color: rgb(234, 117, 0); font-weight: bold;">StaticValueDebug_Kafka</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 192); font-weight: bold;">kTopicName_NodeEvent_All_Prepend</span><span style="color: rgb(0, 0, 0);"> + </span><span style="color: rgb(100, 70, 50); font-weight: bold;">MsgConnRole</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 192); font-style: italic; font-weight: bold;">Guest</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"Using Topic :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug_Kafka</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">kTopicName_NodeEvent_All_Prepend</span><span style="color:#000000;"> + </span><span style="color:#644632;font-weight:bold;">MsgConnRole</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">Host</span><span style="color:#000000;"> + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug_Kafka</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">kTopicName_NodeEvent_All_Prepend</span><span style="color:#000000;"> + </span><span style="color:#644632;font-weight:bold;">MsgConnRole</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">Guest</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//        System.out.println("  // //think signal dynamic name / fixed name not generic </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">app</span><span style="color:#3f7f5f;"> (</span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">rt</span><span style="color:#3f7f5f;"> the NetworkMsg Receiver)\r\n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//                           + "  // plus the loader.. // know should go easy way ; but can think &amp; if more .. ");</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; setup_WindowSession() :: det_DisableReceiveNetworkMsg_Kafka :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">      </span><span style="color: rgb(234, 117, 0); font-weight: bold;">DbOccupation</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 128, 128);">dbOccupation</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(64, 128, 128); font-style: italic;">sessionManager</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">occupy_Db</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">windowSession</span><span style="color: rgb(0, 0, 0);">, </span><span style="color: rgb(64, 128, 128); font-style: italic;">dbName</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">windowSession</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbOccupation</span><span style="color:#000000;"> = </span><span style="color:#808080;">dbOccupation</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">windowSession</span><span style="color:#000000;">.</span><span style="color:#0000bf;">javafxStage</span><span style="color:#000000;">  = </span><span style="color:#408080;font-style:italic;">stage</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#408080;font-style:italic;">sessionManager</span><span style="color:#000000;">.</span><span style="color:#0000bf;">mpp_jfxStage_vs_windowSession</span><span style="color:#000000;">.</span><span style="color:#800080;">put</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">stage</span><span style="color:#000000;">, </span><span style="color:#808080;">windowSession</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#408080;font-style:italic;">sessionManager</span><span style="color:#000000;">.</span><span style="color:#0000bf;">windowSession_curr</span><span style="color:#000000;"> = </span><span style="color:#808080;">windowSession</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">windowSession</span><span style="color:#000000;">.</span><span style="color:#0000bf;">sessionManager</span><span style="color:#000000;">      = </span><span style="color:#408080;font-style:italic;">sessionManager</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#ea7500;font-weight:bold;">SessionManager</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">listen_ChangeWindowSessionCurr_whenWindowIsFocused</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">stage</span><span style="color:#000000;">, </span><span style="color:#408080;font-style:italic;">sessionManager</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#3f7f5f;">// </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">@datalost</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#808080;">dbOccupation</span><span style="color:#000000;">.</span><span style="color:#800080;">weak_check_IfOldDataExist</span><span style="color:#000000;">()) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//        String </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">msg</span><span style="color:#3f7f5f;"> = "[Warning: 80% - </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">@datalost]</span><span style="color:#3f7f5f;"> det_ExistDataIn_EntityGeneral != 0; for </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">db</span><span style="color:#3f7f5f;"> :: " + dbOccupation.dbName</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//                     + "\n" + "old data from </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">prev</span><span style="color:#3f7f5f;"> Session exists in this </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">db</span><span style="color:#3f7f5f;"> (if this </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">msg</span><span style="color:#3f7f5f;"> is not shown, you </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">db</span><span style="color:#3f7f5f;"> is likely to be empty &amp; good for new data)"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//                     + "\n" + "new data will be *appended* to this </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">db</span><span style="color:#3f7f5f;"> "</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//                     + "\n" + "--&gt; save file will not work properly (experimentally supported)"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//                     + "\n" + "--&gt; to use save file functionality, you need to empty this </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">db</span><span style="color:#3f7f5f;"> </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">everytime</span><span style="color:#3f7f5f;"> before you use it "</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">//                     + "\n" + "(so that when you save, you only saving the new data you need, not saving the old data along with it)";</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">DrawAndChatAppSessionInit</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">TextWarn_OverwriteOrAppendDb</span><span style="color:#000000;"> + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#808080;">dbOccupation</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbName</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">err</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">DrawAndChatAppSessionInit</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">TextWarn_OverwriteOrAppendDb</span><span style="color:#000000;"> + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#808080;">dbOccupation</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbName</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#408080;font-style:italic;">det_AllowDbOverwriteOrAppend</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">          </span><span style="color:#0000ff;font-style:italic;">throw</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Error</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">          </span><span style="color:#3f7f5f;">// </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">@do_nothing </span><span style="color:#3f7f5f;">continue</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#808080;">windowSession</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p></div></div></div></div></div></foreignObject><text x="1592" y="89" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">public static WindowSession setup_WindowSession(SessionManager sessionManager, Stage stage,...</text></switch></g><rect x="1600" y="790" width="560" height="1070" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 797px; margin-left: 1602px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="white-space: pre; font-size: 8pt; font-family: Consolas; color: rgb(0, 0, 0);"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">DrawAndChatVm</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">implements</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">WindowSessionExecutor</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">//  private final NodeSigManager nodeSigManager_corr;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeSender_ConvertWrapper</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeSender_ConvertWrapper</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">UndoManager</span><span style="color:#000000;"> </span><span style="color:#0000bf;">undoManager_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">MouseStatus_ArrowDrawing</span><span style="color:#000000;"> </span><span style="color:#0000bf;">mouseStatus_ArrowDrawing</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">MouseStatus_CanvasFreehandDrawing</span><span style="color:#000000;"> </span><span style="color:#0000bf;">mouseStatus_CanvasFreehandDrawing</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">MouseStatus_PanelMoving</span><span style="color:#000000;"> </span><span style="color:#0000bf;">mouseStatus_PanelMoving</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">ClipboardStatus_PanelCopyPaste</span><span style="color:#000000;"> </span><span style="color:#0000bf;">clipboardStatus_PanelCopyPaste</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ;LoopbackQualified;   public NodeReceiver_EventListener nodeReceiver_EventListener;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeReceiver_EventListener</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeReceiver_EventListener</span><span style="color:#000000;">; </span><span style="color:#3f7f5f;">// @messy</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Deprecated</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">static</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">Boolean</span><span style="color:#000000;"> </span><span style="color:#000000;"><span style="text-decoration:line-through;">det_NeedRequestQualificationFirst</span></span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">false</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">//think where to place these, in DrawAndChatVm or in WindowSession -- still Session design manage &amp; Spring Context .. </span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">  </span><span style="color: rgb(0, 0, 255); font-style: italic;">public</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">DrawAndChatVm</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(234, 117, 0); font-weight: bold;">WindowSession</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(64, 128, 128); font-style: italic;">windowSession_corr</span><span style="color: rgb(0, 0, 0);">) {</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">                = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    this.nodeSigManager_corr               = windowSession_corr.nodeSigManager;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSender_ConvertWrapper</span><span style="color:#000000;">         = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">NodeSender_ConvertWrapper</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">);</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">undoManager_corr</span><span style="color:#000000;">                  = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">undoManager</span><span style="color:#000000;">;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">mouseStatus_ArrowDrawing</span><span style="color:#000000;">          = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">MouseStatus_ArrowDrawing</span><span style="color:#000000;">();</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">mouseStatus_CanvasFreehandDrawing</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">MouseStatus_CanvasFreehandDrawing</span><span style="color:#000000;">();</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">mouseStatus_PanelMoving</span><span style="color:#000000;">           = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">MouseStatus_PanelMoving</span><span style="color:#000000;">();</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">clipboardStatus_PanelCopyPaste</span><span style="color:#000000;">    = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">ClipboardStatus_PanelCopyPaste</span><span style="color:#000000;">();</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// ;LoopbackQualified;     this.det_NeedRequestQualificationFirst = windowSession_corr.det_NeedRequestQualificationFirst;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(0, 0, 255); font-style: italic;">this</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">nodeReceiver_EventListener</span><span style="color: rgb(0, 0, 0);">        = </span><span style="color: rgb(0, 0, 255); font-style: italic;">new</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">NodeReceiver_EventListener</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(64, 128, 128); font-style: italic;">windowSession_corr</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#800080;">cstuInit__executor_BrustDetect_Zoom</span><span style="color:#000000;">(); </span><span style="color:#3f7f5f;">// @messy</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#800080;">cstuInit__executor_BrustDetect_TextInput</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;"><br /></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;"><br /></span></p></div></div><br /><br /><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ####################  </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">initAppPanel</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">Stage</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">stage</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// #&gt;&gt;&gt;&gt;&lt;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">double</span><span style="color:#000000;"> </span><span style="color:#808080;">w_CanwasBackground</span><span style="color:#000000;"> = </span><span style="color:#2a00ff;">900</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">double</span><span style="color:#000000;"> </span><span style="color:#808080;">h_CanvasBackground</span><span style="color:#000000;"> = </span><span style="color:#2a00ff;">600</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">double</span><span style="color:#000000;"> </span><span style="color:#808080;">w_PanelSemanticRoot</span><span style="color:#000000;"> = </span><span style="color:#808080;">w_CanwasBackground</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">50</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">double</span><span style="color:#000000;"> </span><span style="color:#808080;">h_PanelSemanticRoot</span><span style="color:#000000;"> = </span><span style="color:#808080;">h_CanvasBackground</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">50</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">double</span><span style="color:#000000;"> </span><span style="color:#808080;">w_Scene</span><span style="color:#000000;"> = </span><span style="color:#808080;">w_PanelSemanticRoot</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">50</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">double</span><span style="color:#000000;"> </span><span style="color:#808080;">h_Scene</span><span style="color:#000000;"> = </span><span style="color:#808080;">h_PanelSemanticRoot</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">50</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(63, 127, 95);">// #&gt;&gt;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">AnchorPane</span><span style="color:#000000;"> </span><span style="color:#808080;">pane_JavafxRoot</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">AnchorPane</span><span style="color:#000000;">();</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">pane_JavafxRoot</span><span style="color:#000000;"> = </span><span style="color:#808080;">pane_JavafxRoot</span><span style="color:#000000;">;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">AnchorPane</span><span style="color:#000000;"> </span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;"> = </span><span style="color:#0000bf;">nodeSender_ConvertWrapper</span><span style="color:#000000;">.</span><span style="color:#800080;">create_Panel</span><span style="color:#000000;">(); </span><span style="color:#3f7f5f;">// reason for root_lv2 is -- underlying model only interact </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">bt</span><span style="color:#3f7f5f;"> Node (root_lv2 &amp; root); but root needs interact with Scene</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">panel_SemanticRoot</span><span style="color:#000000;"> = </span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;">;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000bf;">nodeSender_ConvertWrapper</span><span style="color:#000000;">.</span><span style="color:#800080;">move_Node</span><span style="color:#000000;">(</span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;">, </span><span style="color:#2a00ff;">10</span><span style="color:#000000;">, </span><span style="color:#2a00ff;">10</span><span style="color:#000000;">);</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000bf;">nodeSender_ConvertWrapper</span><span style="color:#000000;">.</span><span style="color:#800080;">change_Shape</span><span style="color:#000000;">(</span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;">, </span><span style="color:#808080;">w_PanelSemanticRoot</span><span style="color:#000000;">, </span><span style="color:#808080;">h_PanelSemanticRoot</span><span style="color:#000000;">);</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(234, 117, 0); font-weight: bold;">String</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 128, 128);">cssStyleStr_Normal</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(128, 0, 0);">""</span></p><p style="margin: 0px;"><span style="color:#000000;">                                + </span><span style="color:#800000;">"-fx-border-style: solid;"</span></p><p style="margin: 0px;"><span style="color:#000000;">                                + </span><span style="color:#800000;">"-fx-border-width: 1;"</span></p><p style="margin: 0px;"><span style="color:#000000;">                                + </span><span style="color:#800000;">"-fx-border-color: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">JavafxUtil</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">rgba_Teal</span><span style="color:#000000;"> + </span><span style="color:#800000;">";"</span><span style="color:#000000;">;</span></p><p style="margin: 0px;"><span style="color:#000000;">    </span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;">.</span><span style="color:#800080;">setStyle</span><span style="color:#000000;">(</span><span style="color:#808080;">cssStyleStr_Normal</span><span style="color:#000000;">);</span></p><p style="margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000bf;">nodeSender_ConvertWrapper</span><span style="color:#000000;">.</span><span style="color:#800080;">wrap_and_send_FunctionExecutionEvent</span><span style="color:#000000;">(</span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;">, </span><span style="color:#800000;">"setStyle"</span><span style="color:#000000;">, </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">Class</span><span style="color:#000000;">[] { </span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> }, </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">Object</span><span style="color:#000000;">[] { </span><span style="color:#808080;">cssStyleStr_Normal</span><span style="color:#000000;"> }, </span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">Node</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">);</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#800080;">setup_Zoomable</span><span style="color:#000000;">(</span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;">);</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000bf;">nodeSender_ConvertWrapper</span><span style="color:#000000;">.</span><span style="color:#800080;">wrap_and_send_FunctionExecutionEvent</span><span style="color:#000000;">(</span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;">, </span><span style="color:#800000;">"setup_Zoomable"</span><span style="color:#000000;">, </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">Class</span><span style="color:#000000;">[] { </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">Node</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> }, </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">Object</span><span style="color:#000000;">[] { </span><span style="color:#808080;">panel_SemanticRoot</span><span style="color:#000000;"> }, </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-weight:bold;">DrawAndChatVm</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p></div></div></div></div></div></foreignObject><text x="1602" y="809" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">public class DrawAndChatVm implements WindowSessionExecutor {...</text></switch></g><rect x="2940" y="590" width="560" height="650" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 597px; margin-left: 2942px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeSender_ConvertWrapper</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">implements</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">WindowSessionExecutor</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeSigManager</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeSender_EventAnnouncer</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeSender_EventAnnouncer</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeCreatorAndConvertor</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeCreatorAndConvertor</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">UndoManager</span><span style="color:#000000;"> </span><span style="color:#0000bf;">undoManager_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ;LoopbackQualified;   private final Boolean det_NeedRequestQualificationFirst;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">  </span><span style="color: rgb(0, 0, 255); font-style: italic;">public</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">NodeSender_ConvertWrapper</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(234, 117, 0); font-weight: bold;">WindowSession</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(64, 128, 128); font-style: italic;">windowSession_corr</span><span style="color: rgb(0, 0, 0);">) {</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">        = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;">       = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSigManager</span><span style="color:#000000;">;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSender_EventAnnouncer</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">NodeSender_EventAnnouncer</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">);</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeCreatorAndConvertor</span><span style="color:#000000;">   = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">NodeCreatorAndConvertor</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">);</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">undoManager_corr</span><span style="color:#000000;">          = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">undoManager</span><span style="color:#000000;">;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// ;LoopbackQualified;     this.det_NeedRequestQualificationFirst = windowSession_corr.det_NeedRequestQualificationFirst;</span></span></p><p style="margin: 0px;"><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 204);">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Override</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#800080;">getWindowSession</span><span style="color:#000000;">() { </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">; }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">AnchorPane</span><span style="color:#000000;"> </span><span style="color:#800080;">create_Panel</span><span style="color:#000000;">() {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    System.out.printf("&gt;&gt;- %5s %s%n    %s%n    %s%n", 2, "public AnchorPane create_Panel() {", pane, nodeSig);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.&lt;</span><span style="color:#ea7500;font-weight:bold;">AnchorPane</span><span style="color:#000000;">&gt;</span><span style="color:#800080;">create_Node</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">AnchorPane</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> &lt;</span><span style="color:#808000;font-style:italic;font-weight:bold;">T</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">extends</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">Node</span><span style="color:#000000;">&gt; </span><span style="color:#808000;font-style:italic;font-weight:bold;">T</span><span style="color:#000000;"> </span><span style="color:#800080;">create_Node</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">Class</span><span style="color:#000000;">&lt;</span><span style="color:#808000;font-style:italic;font-weight:bold;">T</span><span style="color:#000000;">&gt; </span><span style="color:#408080;font-style:italic;">clazzJfxNode</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#808000;font-style:italic;font-weight:bold;">T</span><span style="color:#000000;"> </span><span style="color:#808080;">jfxNode</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">null</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">Constructor</span><span style="color:#000000;">&lt;</span><span style="color:#808000;font-style:italic;font-weight:bold;">T</span><span style="color:#000000;">&gt; </span><span style="color:#808080;">cstu</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">try</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">cstu</span><span style="color:#000000;">    = </span><span style="color:#408080;font-style:italic;">clazzJfxNode</span><span style="color:#000000;">.</span><span style="color:#800080;">getConstructor</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">jfxNode</span><span style="color:#000000;"> = </span><span style="color:#808080;">cstu</span><span style="color:#000000;">.</span><span style="color:#800080;">newInstance</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    } </span><span style="color:#0000ff;font-style:italic;">catch</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">NoSuchMethodException</span><span style="color:#000000;"> | </span><span style="color:#ea7500;font-weight:bold;">SecurityException</span><span style="color:#000000;"> | </span><span style="color:#ea7500;font-weight:bold;">InstantiationException</span><span style="color:#000000;"> | </span><span style="color:#ea7500;font-weight:bold;">IllegalAccessException</span><span style="color:#000000;"> | </span><span style="color:#ea7500;font-weight:bold;">IllegalArgumentException</span><span style="color:#000000;"> | </span><span style="color:#ea7500;font-weight:bold;">InvocationTargetException</span><span style="color:#000000;"> </span><span style="color:#808080;">e</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">throw</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Error</span><span style="color:#000000;">(</span><span style="color:#808080;">e</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(234, 117, 0); font-style: italic; font-weight: bold;">NodeSig</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 128, 128);">nodeSig</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(0, 0, 191);">nodeCreatorAndConvertor</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">jfxNode2nodeSig</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">jfxNode</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// ;LoopbackQualified;     if (!det_NeedRequestQualificationFirst) {}</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// ;LoopbackQualified;     else {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// ;LoopbackQualified;       nodeSig.det_PseduoRequestingNode = true;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// ;LoopbackQualified;     }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(0, 0, 191);">nodeSender_EventAnnouncer</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">send_NodeCreatedEvent</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">nodeSig</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#808080;">jfxNode</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p></div></div></div></div></div></foreignObject><text x="2942" y="609" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">public class NodeSender_ConvertWrapper implements WindowSessionExecutor {...</text></switch></g><rect x="4130" y="0" width="560" height="730" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 7px; margin-left: 4132px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeCreatorAndConvertor</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">implements</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">WindowSessionExecutor</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeSigManager</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#800080;">NodeCreatorAndConvertor</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">  = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;"> = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSigManager</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Override</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#800080;">getWindowSession</span><span style="color:#000000;">() { </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">; }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ########</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeSig</span><span style="color:#000000;"> </span><span style="color:#800080;background-color:#d4d4d4;">jfxNode2nodeSig</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-style:italic;font-weight:bold;">Node</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">jfxNode</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">Class</span><span style="color:#000000;">&lt;? </span><span style="color:#0000ff;font-style:italic;">extends</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">Node</span><span style="color:#000000;">&gt; </span><span style="color:#808080;">clazzJfxNode</span><span style="color:#000000;"> = </span><span style="color:#408080;font-style:italic;">jfxNode</span><span style="color:#000000;">.</span><span style="color:#800080;text-decoration:underline;text-decoration-style:solid;">getClass</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeSig</span><span style="color:#000000;"> </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">AnchorPane</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">.</span><span style="color:#800080;">isAssignableFrom</span><span style="color:#000000;">(</span><span style="color:#808080;">clazzJfxNode</span><span style="color:#000000;">)) {</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">      </span><span style="color: rgb(128, 128, 128);">nodeSig</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(0, 0, 255); font-style: italic;">new</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">PanelSig</span><span style="color: rgb(0, 0, 0);">();</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">StackPane</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">.</span><span style="color:#800080;">isAssignableFrom</span><span style="color:#000000;">(</span><span style="color:#808080;">clazzJfxNode</span><span style="color:#000000;">)) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">PanelSig</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">Button</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">.</span><span style="color:#800080;">isAssignableFrom</span><span style="color:#000000;">(</span><span style="color:#808080;">clazzJfxNode</span><span style="color:#000000;">)) { </span><span style="color:#3f7f5f;">// or more accurate </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#3f7f5f;">//      ((Button) fxNode).setText("pseudo button");  //</span><span style="color:#7f9fbf;font-weight:bold;">TODO</span><span style="color:#3f7f5f;"> //@messy</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">ButtonSig</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">TextArea</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">.</span><span style="color:#800080;">isAssignableFrom</span><span style="color:#000000;">(</span><span style="color:#808080;">clazzJfxNode</span><span style="color:#000000;">)) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">TextAreaSig</span><span style="color:#000000;">(); </span><span style="color:#3f7f5f;">//</span><span style="color:#7f9fbf;font-weight:bold;">TODO</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">Canvas</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">.</span><span style="color:#800080;">isAssignableFrom</span><span style="color:#000000;">(</span><span style="color:#808080;">clazzJfxNode</span><span style="color:#000000;">)) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#3f7f5f;">//      JavafxUtil.initDraw(((Canvas) fxNode).getGraphicsContext2D()); //</span><span style="color:#7f9fbf;font-weight:bold;">TODO</span><span style="color:#3f7f5f;"> //@messy </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#3f7f5f;">//^ wrong place .. should in Receiver</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">CanvasSig</span><span style="color:#000000;">(); </span><span style="color:#3f7f5f;">//</span><span style="color:#7f9fbf;font-weight:bold;">TODO</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">Arrow</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">.</span><span style="color:#800080;">isAssignableFrom</span><span style="color:#000000;">(</span><span style="color:#808080;">clazzJfxNode</span><span style="color:#000000;">)) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">ArrowSig</span><span style="color:#000000;">(); </span><span style="color:#3f7f5f;">// ... passing nothing can even work .. </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">throw</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">NotSupportedException</span><span style="color:#000000;">(</span><span style="color:#808080;">clazzJfxNode</span><span style="color:#000000;">.</span><span style="color:#800080;">toGenericString</span><span style="color:#000000;">());</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(0, 0, 191);">nodeSigManager_corr</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">groupup_and_associate</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(64, 128, 128); font-style: italic;">jfxNode</span><span style="color: rgb(0, 0, 0);">, </span><span style="color: rgb(128, 128, 128);">nodeSig</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">Rectangle</span><span style="color:#000000;"> </span><span style="color:#808080;">shape</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Rectangle</span><span style="color:#000000;">(); </span><span style="color:#3f7f5f;">// </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">@tmp</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#808080;">shape</span><span style="color:#000000;">.</span><span style="color:#800080;">set_pt_TopLeftFront</span><span style="color:#000000;">(</span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Point</span><span style="color:#000000;">(</span><span style="color:#2a00ff;">0</span><span style="color:#000000;">, </span><span style="color:#2a00ff;">0</span><span style="color:#000000;">)); </span><span style="color:#3f7f5f;">// @messy </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">@tmp dk</span><span style="color:#3f7f5f;"> if correct ...</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;">.</span><span style="color:#0000bf;">shape</span><span style="color:#000000;"> = </span><span style="color:#808080;">shape</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ########</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p></div></div></div></div></div></foreignObject><text x="4132" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">public class NodeCreatorAndConvertor implements WindowSessionExecutor {...</text></switch></g><rect x="4740" y="10" width="560" height="490" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 17px; margin-left: 4742px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeSigManager</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">HashSet</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">NodeSig</span><span style="color:#000000;">&gt; </span><span style="color:#0000bf;">gp_AllNode</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">HashSet</span><span style="color:#000000;">&lt;&gt;(); </span><span style="color:#3f7f5f;">// @note,aware[concurrent]:</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">HashMap</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-weight:bold;">NodeSig</span><span style="color:#000000;">&gt; </span><span style="color:#0000bf;">mpp_AllNode</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">HashMap</span><span style="color:#000000;">&lt;&gt;(); </span><span style="color:#3f7f5f;">// @note,aware[concurrent]:</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">//</span><span style="color:#7f9fbf;font-weight:bold;">TODO</span><span style="color:#3f7f5f;"> generated &amp; received </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">LinkedList</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">EventSig</span><span style="color:#000000;">&gt; </span><span style="color:#0000bf;">arr_AllEvent</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">LinkedList</span><span style="color:#000000;">&lt;&gt;(); </span><span style="color:#3f7f5f;">// @note,aware[concurrent]:</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">HashMap</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">Node</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-weight:bold;">NodeSig</span><span style="color:#000000;">&gt; </span><span style="color:#0000bf;">mpp_jfxNode_vs_nodeSig</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">HashMap</span><span style="color:#000000;">&lt;&gt;();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#3f7f5f;">// ;LoopbackQualified;   public final HashMap&lt;String, NodeSig&gt; mpp_nodeSigIdJava_PseudoRequesting_vs_nodeSig_ActualBuilt = new HashMap&lt;&gt;(); // @messy to simplify some work ... just use String</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeSig</span><span style="color:#000000;"> </span><span style="color:#800080;">get_LocalNonDeserialized_NodeSig_from_NodeSigManager</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeSig</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">nodeMain_deserialized</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeSig</span><span style="color:#000000;"> </span><span style="color:#808080;">nodeMain_reside</span><span style="color:#000000;"> = </span><span style="color:#0000bf;">mpp_AllNode</span><span style="color:#000000;">.</span><span style="color:#800080;">get</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">nodeMain_deserialized</span><span style="color:#000000;">.</span><span style="color:#0000bf;">idJava</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#808080;">nodeMain_reside</span><span style="color:#000000;"> == </span><span style="color:#0000ff;font-style:italic;">null</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">throw</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Error</span><span style="color:#000000;">(</span><span style="color:#800000;">"Cannot find NodeSig :: "</span><span style="color:#000000;"> + </span><span style="color:#408080;font-style:italic;">nodeMain_deserialized</span><span style="color:#000000;"> + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#0000bf;">mpp_AllNode</span><span style="color:#000000;">); </span><span style="color:#3f7f5f;">// </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#808080;">nodeMain_reside</span><span style="color:#000000;">; </span><span style="color:#3f7f5f;">// </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// #&gt;&gt;&gt; Association in Convert</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;background-color:#d4d4d4;">groupup_and_associate</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-style:italic;font-weight:bold;">Node</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">node</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeSig</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">nodeSig</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">printf</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt;- %5s %s%n    %s%n    %s%n"</span><span style="color:#000000;">, </span><span style="color:#800000;">"3 || 6.5"</span><span style="color:#000000;">, </span><span style="color:#800000;">"public static void associate(Node node, NodeSig nodeSig) {"</span><span style="color:#000000;">, </span><span style="color:#408080;font-style:italic;">node</span><span style="color:#000000;">, </span><span style="color:#408080;font-style:italic;">nodeSig</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(0, 0, 191);">gp_AllNode</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">add</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(64, 128, 128); font-style: italic;">nodeSig</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#0000bf;">mpp_AllNode</span><span style="color:#000000;">.</span><span style="color:#800080;">put</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">nodeSig</span><span style="color:#000000;">.</span><span style="color:#800080;">getIdJava</span><span style="color:#000000;">(), </span><span style="color:#408080;font-style:italic;">nodeSig</span><span style="color:#000000;">);</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#408080;font-style:italic;">nodeSig</span><span style="color:#000000;">.</span><span style="color:#0000bf;">fxNode_AssocConvert</span><span style="color:#000000;">       = </span><span style="color:#408080;font-style:italic;">node</span><span style="color:#000000;">;</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">    </span><span style="color:#408080;font-style:italic;">nodeSig</span><span style="color:#000000;">.</span><span style="color:#0000bf;">class_fxNode_AssocConvert</span><span style="color:#000000;"> = </span><span style="color:#408080;font-style:italic;">node</span><span style="color:#000000;">.</span><span style="color:#800080;text-decoration:underline;text-decoration-style:solid;">getClass</span><span style="color:#000000;">();</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(0, 0, 191);">mpp_jfxNode_vs_nodeSig</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">put</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(64, 128, 128); font-style: italic;">node</span><span style="color: rgb(0, 0, 0);">, </span><span style="color: rgb(64, 128, 128); font-style: italic;">nodeSig</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">}</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p></div></div></div></div></div></foreignObject><text x="4742" y="29" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">public class NodeSigManager {...</text></switch></g><rect x="4110" y="2910" width="560" height="2380" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 2917px; margin-left: 4112px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeReceiver_EventListener</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">implements</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">WindowSessionExecutor</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeReceiver_ConvertHandler</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeReceiver_ConvertHandler</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">//  private final NodeSigManager nodeSigManager_corr;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">//  private final NodeSender_EventAnnouncer nodeSender_EventAnnouncer_corr; // @messy moved below ( can try move </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">db</span><span style="color:#3f7f5f;"> class</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">KafkaConfig</span><span style="color:#000000;"> </span><span style="color:#0000bf;">kafkaConfig</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;"> </span><span style="color:#0000bf;">kTopicName_Receive_NodeEvent_All</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;"> </span><span style="color:#0000bf;">dbName</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#800080;">NodeReceiver_EventListener</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">               = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeReceiver_ConvertHandler</span><span style="color:#000000;">      = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">NodeReceiver_ConvertHandler</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    this.nodeSigManager_corr              = windowSession_corr.nodeSigManager;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    this.nodeSender_EventAnnouncer_corr   = windowSession_corr.drawAndChatVm.nodeSender_ConvertWrapper.nodeSender_EventAnnouncer;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kafkaConfig</span><span style="color:#000000;">                      = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kafkaConfig</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kTopicName_Receive_NodeEvent_All</span><span style="color:#000000;"> = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kafkaConfig</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kTopicName_Receive_NodeEvent_All</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbName</span><span style="color:#000000;">                           = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbOccupation</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbName</span><span style="color:#000000;">.</span><span style="color:#800080;">toString</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Override</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#800080;">getWindowSession</span><span style="color:#000000;">() { </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">; }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ####################  </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">static</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">long</span><span style="color:#000000;"> </span><span style="color:#0000c0;font-weight:bold;">interval_Poll</span><span style="color:#000000;"> = </span><span style="color:#2a00ff;">50</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">Consumer</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;">, ? </span><span style="color:#0000ff;font-style:italic;">extends</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeEvent</span><span style="color:#000000;">&gt; </span><span style="color:#0000bf;">consumer</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">Set</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">TopicPartition</span><span style="color:#000000;">&gt; </span><span style="color:#0000bf;">kPartition_asg</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">boolean</span><span style="color:#000000;"> </span><span style="color:#0000bf;">det_Pause</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">false</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">boolean</span><span style="color:#000000;"> </span><span style="color:#0000bf;">det_NoNeedToQualifyEvent_AcceptAll_debug</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">ScheduledExecutorService</span><span style="color:#000000;"> </span><span style="color:#0000bf;">executor</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">boolean</span><span style="color:#000000;"> </span><span style="color:#0000bf;">det_PollBlocking</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">listen_forGeneralNodeEvent</span><span style="color:#000000;">() {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000bf;">consumer</span><span style="color:#000000;"> = </span><span style="color:#0000bf;">kafkaConfig</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kConsumer_NodeEvent_All</span><span style="color:#000000;">;</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">      </span><span style="color: rgb(0, 0, 191);">consumer</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128); font-style: italic; text-decoration: underline solid;">subscribe</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(234, 117, 0); font-weight: bold;">Arrays</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128); font-style: italic;">asList</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(0, 0, 191);">kTopicName_Receive_NodeEvent_All</span><span style="color: rgb(0, 0, 0);">));</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;"><br /></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;"><br /></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="font-size: 8pt;">      </span><span style="font-size: 8pt; color: rgb(0, 0, 191);">executor</span><span style="font-size: 8pt;"> = </span><span style="font-size: 8pt; color: rgb(234, 117, 0); font-weight: bold;">Executors</span><span style="font-size: 8pt;">.</span><span style="font-size: 8pt; color: rgb(128, 0, 128); font-style: italic;">newSingleThreadScheduledExecutor</span><span style="font-size: 8pt;">(</span><span style="font-size: 8pt; color: rgb(0, 0, 255); font-style: italic;">new</span><span style="font-size: 8pt;"> </span><span style="font-size: 8pt; color: rgb(128, 0, 128);">ThreadFactoryBuilder</span><span style="font-size: 8pt;">().</span><span style="font-size: 8pt; color: rgb(128, 0, 128);">setNameFormat</span><span style="font-size: 8pt;">(</span><span style="font-size: 8pt; color: rgb(128, 0, 0);">"thd-kConsumer_poll-%d"</span><span style="font-size: 8pt;">).</span><span style="font-size: 8pt; color: rgb(128, 0, 128);">build</span><span style="font-size: 8pt;">());</span><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000bf;">executor</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;text-decoration:underline;text-decoration-style:solid;">scheduleWithFixedDelay</span><span style="color:#000000;">(</span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Runnable</span><span style="color:#000000;">()</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">          </span><span style="color:#0000ff;font-style:italic;">long</span><span style="color:#000000;"> </span><span style="color:#0000bf;">sn_poll</span><span style="color:#000000;"> = </span><span style="color:#2a00ff;">0</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">          </span><span style="color:#646464;">@Override</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">          </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">run</span><span style="color:#000000;">() {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            </span><span style="color:#0000bf;">sn_poll</span><span style="color:#000000;">++;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#0000bf;">det_Pause</span><span style="color:#000000;">) { </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; polling NodeEvent - "</span><span style="color:#000000;"> + </span><span style="color:#0000bf;">sn_poll</span><span style="color:#000000;"> + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#0000bf;">dbName</span><span style="color:#000000;">); }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            </span><span style="color:#ea7500;font-weight:bold;">ConsumerRecords</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;">, ? </span><span style="color:#0000ff;font-style:italic;">extends</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeEvent</span><span style="color:#000000;">&gt; </span><span style="color:#808080;">records</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">null</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            </span><span style="color:#0000ff;font-style:italic;">try</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">              </span><span style="color:#0000bf;">det_PollBlocking</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">true</span><span style="color:#000000;">;</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">              </span><span style="color: rgb(128, 128, 128);">records</span><span style="color: rgb(0, 0, 0);">          = </span><span style="color: rgb(0, 0, 191);">consumer</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128); font-style: italic; text-decoration: underline solid;">poll</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(234, 117, 0); font-weight: bold;">Duration</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128); font-style: italic;">ofMillis</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(42, 0, 255);">4000</span><span style="color: rgb(0, 0, 0);">));</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">              </span><span style="color:#0000bf;">det_PollBlocking</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">false</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">              </span><span style="color:#0000bf;">kPartition_asg</span><span style="color:#000000;">   = </span><span style="color:#0000bf;">consumer</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;text-decoration:underline;text-decoration-style:solid;">assignment</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            } </span><span style="color:#0000ff;font-style:italic;">catch</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">WakeupException</span><span style="color:#000000;"> </span><span style="color:#808080;">e</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">              </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"Seems we are shutting down :: "</span><span style="color:#000000;"> + </span><span style="color:#808080;">e</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">              </span><span style="color:#0000bf;">consumer</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;text-decoration:underline;text-decoration-style:solid;">close</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#808080;">records</span><span style="color:#000000;">.</span><span style="color:#800080;">count</span><span style="color:#000000;">() == </span><span style="color:#2a00ff;">0</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">              </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"poll() timeouted, cuz Msg Queue is Empty :: "</span><span style="color:#000000;"> + </span><span style="color:#0000bf;">consumer</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">              </span><span style="color: rgb(0, 0, 255); font-style: italic;">for</span><span style="color: rgb(0, 0, 0);"> (</span><span style="color: rgb(234, 117, 0); font-weight: bold;">ConsumerRecord</span><span style="color: rgb(0, 0, 0);">&lt;</span><span style="color: rgb(234, 117, 0); font-weight: bold;">String</span><span style="color: rgb(0, 0, 0);">, ? </span><span style="color: rgb(0, 0, 255); font-style: italic;">extends</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(234, 117, 0); font-style: italic; font-weight: bold;">NodeEvent</span><span style="color: rgb(0, 0, 0);">&gt; </span><span style="color: rgb(128, 128, 128);">record</span><span style="color: rgb(0, 0, 0);"> : </span><span style="color: rgb(128, 128, 128);">records</span><span style="color: rgb(0, 0, 0);">) {</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">                </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeEvent</span><span style="color:#000000;"> </span><span style="color:#808080;">event</span><span style="color:#000000;"> = </span><span style="color:#808080;">record</span><span style="color:#000000;">.</span><span style="color:#800080;">value</span><span style="color:#000000;">();</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">                </span><span style="color:#ea7500;font-weight:bold;">Platform</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">runLater</span><span style="color:#000000;">(() -&gt; {</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">                  </span><span style="color:#0000bf;">nodeReceiver_ConvertHandler</span><span style="color:#000000;">.</span><span style="color:#800080;">determine_EventType_and_handle_EventCorrespondingly</span><span style="color:#000000;">(</span><span style="color:#808080;">event</span><span style="color:#000000;">);</span></span></p><p style="margin: 0px;"><span style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 204);">                });</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">                </span><span style="color: rgb(0, 0, 191);">windowSession_corr</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">drawAndChatVm</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">nodeSender_ConvertWrapper</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">nodeSender_EventAnnouncer</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">persist_InSingleThreadExecutor</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">event</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">nodeMain</span><span style="color: rgb(0, 0, 0);">, </span><span style="color: rgb(128, 128, 128);">event</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">              }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">          }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        }, </span><span style="color:#2a00ff;">0</span><span style="color:#000000;">, </span><span style="color:#0000c0;font-weight:bold;">interval_Poll</span><span style="color:#000000;">, </span><span style="color:#644632;font-weight:bold;">TimeUnit</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">MILLISECONDS</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; listen_forGeneralNodeEvent() :: det_DisableReceiveNetworkMsg_Kafka :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p></div></div></div></div></div></foreignObject><text x="4112" y="2929" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">public class NodeReceiver_EventListener implements WindowSessionExecutor {...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 887px; margin-left: 4462px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><div style="background-color:#ffffff;padding:0px 0px 0px 2px;"><div style="color:#000000;background-color:#ffffff;font-family:&quot;Consolas&quot;;font-size:8pt;white-space:pre;"><p style="margin:0;"><span style="color:#3f7f5f;">//@Component</span></p><p style="margin:0;"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeSender_EventAnnouncer</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">implements</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">WindowSessionExecutor</span><span style="color:#000000;"> {</span></p><p style="margin:0;"><br /></p><p style="margin:0;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="margin:0;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeSigManager</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;">;</span></p><p style="margin:0;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">DbThreadHelper</span><span style="color:#000000;"> </span><span style="color:#0000bf;">dbThreadHelper_corr</span><span style="color:#000000;">;</span></p><p style="margin:0;"><br /></p><p style="margin:0;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">KafkaConfig</span><span style="color:#000000;"> </span><span style="color:#0000bf;">kafkaConfig_corr</span><span style="color:#000000;">;</span></p><p style="margin:0;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;"> </span><span style="color:#0000bf;">kTopicName_Send_NodeEvent_All</span><span style="color:#000000;">;</span></p><p style="margin:0;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;"> </span><span style="color:#0000bf;">kPartitionOrderKey_OrderAllNodeEvent</span><span style="color:#000000;">;</span></p><p style="margin:0;"><br /></p><p style="margin:0;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#800080;">NodeSender_EventAnnouncer</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">) {</span></p><p style="margin:0;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">                   = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="margin:0;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;">                  = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSigManager</span><span style="color:#000000;">;</span></p><p style="margin:0;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbThreadHelper_corr</span><span style="color:#000000;">                  = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">sessionManager</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbThreadHelper</span><span style="color:#000000;">;</span></p><p style="margin:0;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kafkaConfig_corr</span><span style="color:#000000;">                     = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kafkaConfig</span><span style="color:#000000;">;</span></p><p style="margin:0;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kTopicName_Send_NodeEvent_All</span><span style="color:#000000;">        = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kafkaConfig</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kTopicName_Send_NodeEvent_All</span><span style="color:#000000;">;</span></p><p style="margin:0;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kPartitionOrderKey_OrderAllNodeEvent</span><span style="color:#000000;"> = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kafkaConfig</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kPartitionOrderKey_OrderAllNodeEvent</span><span style="color:#000000;">;</span></p><p style="margin:0;"><br /></p><p style="margin:0;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"public NodeSender_EventAnnouncer(WindowSession windowSession_corr) { :: "</span><span style="color:#000000;"> + </span><span style="color:#0000bf;">executor</span><span style="color:#000000;">.</span><span style="color:#800080;">toString</span><span style="color:#000000;">());</span></p><p style="margin:0;"><span style="color:#000000;">    </span><span style="color:#800080;">cstuInit</span><span style="color:#000000;">();</span></p><p style="margin:0;"><span style="color:#000000;">  }</span></p></div></div></div></div></div></foreignObject><text x="4462" y="899" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">//@Component...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 1227px; margin-left: 5082px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">AtomicLong</span><span style="color:#000000;"> </span><span style="color:#0000bf;">sn_Persist_db01_atom</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">AtomicLong</span><span style="color:#000000;">(</span><span style="color:#2a00ff;">0</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">detDb_and_batch_and_persist__delegateTo_DbThreadHelper</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeEvent</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-weight:bold;">DbOccupation</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">dbOccupation</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">try</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#408080;font-style:italic;">dbOccupation</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbName</span><span style="color:#000000;"> == </span><span style="color:#644632;font-weight:bold;">DbName</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">db_drawandchat_01</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#0000ff;font-style:italic;">long</span><span style="color:#000000;"> </span><span style="color:#808080;">sn_Persist_01</span><span style="color:#000000;"> = </span><span style="color:#0000bf;">sn_Persist_db01_atom</span><span style="color:#000000;">.</span><span style="color:#800080;">incrementAndGet</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#0000bf;">queue_NodeEventBatch_db01</span><span style="color:#000000;">.</span><span style="color:#800080;">add</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#808080;">sn_Persist_01</span><span style="color:#000000;"> % </span><span style="color:#ea7500;font-weight:bold;">MultipleDbSpringConfig</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">BatchSize</span><span style="color:#000000;"> == </span><span style="color:#2a00ff;">0</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">          </span><span style="color: rgb(0, 0, 191);">dbThreadHelper_corr</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">persist_01</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(0, 0, 191);">queue_NodeEventBatch_db01</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#408080;font-style:italic;">dbOccupation</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbName</span><span style="color:#000000;"> == </span><span style="color:#644632;font-weight:bold;">DbName</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">db_drawandchat_02</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#3f7f5f;">// context.getBean(DbThreadHelper.class).persist_02(event);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#0000bf;">dbThreadHelper_corr</span><span style="color:#000000;">.</span><span style="color:#800080;">persist_02</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#0000ff;font-style:italic;">throw</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">NotSupportedException</span><span style="color:#000000;">(</span><span style="color:#800000;">"only 2 db for save &amp; load file is supported currently"</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    } </span><span style="color:#0000ff;font-style:italic;">catch</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">Exception</span><span style="color:#000000;"> </span><span style="color:#808080;">e</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">e</span><span style="color:#000000;">.</span><span style="color:#800080;">printStackTrace</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ############</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Deprecated</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">static</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">boolean</span><span style="color:#000000;"> </span><span style="color:#000000;"><span style="text-decoration:line-through;">det_ManualSetIdSql_ForTryBatchInMysql</span></span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">false</span><span style="color:#000000;">; </span><span style="color:#3f7f5f;">// need to turn on/off @GeneratedValue(strategy = GenerationType.IDENTITY)</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#ea7500;font-weight:bold;">ThreadPoolExecutor</span><span style="color:#000000;"> </span><span style="color:#0000bf;">executor</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">ThreadPoolExecutor</span><span style="color:#000000;">(</span><span style="color:#2a00ff;">1</span><span style="color:#000000;">, </span><span style="color:#2a00ff;">1</span><span style="color:#000000;">,</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                                                       </span><span style="color:#2a00ff;">0L</span><span style="color:#000000;">, </span><span style="color:#644632;font-weight:bold;">TimeUnit</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">MILLISECONDS</span><span style="color:#000000;">,</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                                                       </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">LinkedBlockingQueue</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">Runnable</span><span style="color:#000000;">&gt;(),</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                                                       </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">ThreadFactoryBuilder</span><span style="color:#000000;">().</span><span style="color:#800080;">setNameFormat</span><span style="color:#000000;">(</span><span style="color:#800000;">"thd-dbPersist-%d"</span><span style="color:#000000;">).</span><span style="color:#800080;">build</span><span style="color:#000000;">());</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">persist_InSingleThreadExecutor</span><span style="color:#000000;">(</span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeSig</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">nodeMain</span><span style="color:#000000;">, </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeEvent</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableLoadSaveFile_Mysql</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="font-size: 8pt;">      </span><span style="font-size: 8pt; color: rgb(234, 117, 0); font-style: italic; font-weight: bold;">NodeEvent</span><span style="font-size: 8pt;"> </span><span style="font-size: 8pt; color: rgb(128, 128, 128);">event_clone</span><span style="font-size: 8pt;">;</span><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#000000;"><span style="text-decoration:line-through;">det_ManualSetIdSql_ForTryBatchInMysql</span></span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="font-size: 8pt;">        </span><span style="font-size: 8pt; color: rgb(0, 0, 255); font-style: italic;">if</span><span style="font-size: 8pt;"> (</span><span style="font-size: 8pt; color: rgb(64, 128, 128); font-style: italic;">nodeMain</span><span style="font-size: 8pt;"> != </span><span style="font-size: 8pt; color: rgb(0, 0, 255); font-style: italic;">null</span><span style="font-size: 8pt;">) {</span><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">          </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#408080;font-style:italic;">nodeMain</span><span style="color:#000000;">.</span><span style="color:#800080;">getIdSql</span><span style="color:#000000;">() != </span><span style="color:#0000ff;font-style:italic;">null</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">            </span><span style="color:#0000ff;font-style:italic;">throw</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Error</span><span style="color:#000000;">(</span><span style="color:#800000;">"Detach pb re-appear? :: "</span><span style="color:#000000;"> + </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;"> + </span><span style="color:#800000;">"\n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      // @note-imp::{ \n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      // must clone, \n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      // cuz the state_snapshot_of_NodeSig wanted to save \n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      // should be `at the time pass persist job to thread`; \n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      // not `at the time thread actually call`; \n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      //   (the set id null not sufficient -- cuz \n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      //   1. even set it, state would may have already changed \n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      //   1. not at right before em.persist() -- inside the executor thread\n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      //   1. the queue_Batch async the process even more (-- aga, &gt;\"inside the executor thread\" is not enough, need even more/closer_at &gt;\"\"right before em.persist()\"\n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      //   )\n"</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">                            + </span><span style="color:#800000;">"      // }"</span><span style="color:#000000;">); </span><span style="color:#3f7f5f;">// </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">          }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#808080;">event_clone</span><span style="color:#000000;"> = (</span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeEvent</span><span style="color:#000000;">) </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">SerializationUtils</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">deserialize</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-style:italic;font-weight:bold;">SerializationUtils</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">serialize</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">)); </span><span style="color:#3f7f5f;">// @messy @doubt</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">DbOccupation</span><span style="color:#000000;"> </span><span style="color:#808080;">dbOccupation_L</span><span style="color:#000000;"> = </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbOccupation</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#408080;font-style:italic;font-weight:bold;">Future</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">EventSig</span><span style="color:#000000;">&gt; </span><span style="color:#808080;text-decoration:underline;text-decoration-color:#f4c82d;text-decoration-style:wavy;">future</span><span style="color:#000000;"> = </span><span style="color:#0000bf;">executor</span><span style="color:#000000;">.</span><span style="color:#800080;">submit</span><span style="color:#000000;">(() -&gt; {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">        </span><span style="color: rgb(128, 0, 128);">detDb_and_batch_and_persist__delegateTo_DbThreadHelper</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">event_clone</span><span style="color: rgb(0, 0, 0);">, </span><span style="color: rgb(128, 128, 128);">dbOccupation_L</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#808080;">event_clone</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      });</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#3f7f5f;">// </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">@do_nothing </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; persist_InSingleThreadExecutor() :: det_DisableLoadSaveFile_Mysql :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableLoadSaveFile_Mysql</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ############</span></p></div></div></div></div></div></foreignObject><text x="5082" y="1239" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">private final AtomicLong sn_Persist_db01_atom = new AtomicLong(0);...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 1217px; margin-left: 4062px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">send_commonHelper</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;font-weight:bold;text-decoration:underline;text-decoration-color:#f4c82d;text-decoration-style:wavy;">Producer</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">producer</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeEvent</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">) {</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">      </span><span style="color: rgb(234, 117, 0); font-weight: bold;">ProducerRecord</span><span style="color: rgb(0, 0, 0);">&lt;</span><span style="color: rgb(234, 117, 0); font-weight: bold;">String</span><span style="color: rgb(0, 0, 0);">, ? </span><span style="color: rgb(0, 0, 255); font-style: italic;">extends</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(234, 117, 0); font-style: italic; font-weight: bold;">NodeEvent</span><span style="color: rgb(0, 0, 0);">&gt; </span><span style="color: rgb(128, 128, 128);">producerRecord</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(0, 0, 255); font-style: italic;">new</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">ProducerRecord</span><span style="color: rgb(0, 0, 0);">&lt;&gt;(</span><span style="color: rgb(0, 0, 191);">kTopicName_Send_NodeEvent_All</span><span style="color: rgb(0, 0, 0);">, </span><span style="color: rgb(0, 0, 191);">kPartitionOrderKey_OrderAllNodeEvent</span><span style="color: rgb(0, 0, 0);">, </span><span style="color: rgb(64, 128, 128); font-style: italic;">event</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">      </span><span style="color: rgb(64, 128, 128); font-style: italic; text-decoration: underline wavy rgb(244, 200, 45);">producer</span><span style="color: rgb(0, 0, 0); text-decoration: underline wavy rgb(244, 200, 45);">.</span><span style="color: rgb(128, 0, 128); font-style: italic; text-decoration: underline wavy rgb(244, 200, 45);">send</span><span style="color: rgb(0, 0, 0); text-decoration: underline wavy rgb(244, 200, 45);">(</span><span style="color: rgb(128, 128, 128); text-decoration: underline wavy rgb(244, 200, 45);">producerRecord</span><span style="color: rgb(0, 0, 0); text-decoration: underline wavy rgb(244, 200, 45);">)</span><span style="color: rgb(0, 0, 0);">;</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#408080;font-style:italic;">producer</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;text-decoration:underline;text-decoration-style:solid;">flush</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; send_commonHelper() :: det_DisableReceiveNetworkMsg_Kafka :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ############ ############</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ########</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">  </span><span style="color: rgb(0, 0, 255); font-style: italic;">public</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 255); font-style: italic;">void</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">send_NodeCreatedEvent</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(234, 117, 0); font-style: italic; font-weight: bold;">NodeSig</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(64, 128, 128); font-style: italic;">nodeMain</span><span style="color: rgb(0, 0, 0);">) {</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(234, 117, 0); font-weight: bold;">NodeCreatedEvent</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 128, 128);">event</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(0, 0, 255); font-style: italic;">new</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">NodeCreatedEvent</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(64, 128, 128); font-style: italic;">nodeMain</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">arr_AllEvent</span><span style="color:#000000;">.</span><span style="color:#800080;">add</span><span style="color:#000000;">(</span><span style="color:#808080;">event</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    final Producer&lt;String, NodeCreatedEvent&gt; producer = kafkaConfig_corr.kProducer_NodeCreatedEvent;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    ProducerRecord&lt;String, NodeCreatedEvent&gt; producerRecord = new ProducerRecord&lt;&gt;(kTopicName_Send_NodeEvent_All, kPartitionOrderKey_OrderAllNodeEvent, event);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    producer.send(producerRecord);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    producer.flush();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#800080;">send_commonHelper</span><span style="color:#000000;">(</span><span style="color:#0000bf;">kafkaConfig_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">kProducer_NodeCreatedEvent</span><span style="color:#000000;">, </span><span style="color:#808080;">event</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#800080;">persist_InSingleThreadExecutor</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">nodeMain</span><span style="color:#000000;">, </span><span style="color:#808080;">event</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// @note: must send before persist -- otherwise the IdSql will also be sent ; for transaction </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">rollback</span><span style="color:#3f7f5f;"> .. </span><span style="color:#3f7f5f;text-decoration:underline;text-decoration-color:#ff8040;text-decoration-style:wavy;">emm</span><span style="color:#3f7f5f;"> </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">printf</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt;- %5s %s%n    %s%n    %s%n"</span><span style="color:#000000;">, </span><span style="color:#2a00ff;">4</span><span style="color:#000000;">, </span><span style="color:#800000;">"private static void send_NodeCreatedEvent(NodeSig nodeSig) {"</span><span style="color:#000000;">, </span><span style="color:#808080;">event</span><span style="color:#000000;">, </span><span style="color:#408080;font-style:italic;">nodeMain</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p></div></div></div></div></div></foreignObject><text x="4062" y="1229" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">private void send_commonHelper(Producer producer, NodeEvent event) {...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 2917px; margin-left: 2842px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeReceiver_ConvertHandler</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">implements</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">WindowSessionExecutor</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeSigManager</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">NodeCreatorAndConvertor</span><span style="color:#000000;"> </span><span style="color:#0000bf;">nodeCreatorAndConvertor</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">UndoManager</span><span style="color:#000000;"> </span><span style="color:#0000bf;">undoManager_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ;LoopbackQualified;   private final NodeSender_ConvertWrapper nodeSender_ConvertWrapper;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#800080;">NodeReceiver_ConvertHandler</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">      = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;">     = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeSigManager</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeCreatorAndConvertor</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">NodeCreatorAndConvertor</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">this</span><span style="color:#000000;">.</span><span style="color:#0000bf;">undoManager_corr</span><span style="color:#000000;">        = </span><span style="color:#408080;font-style:italic;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">undoManager</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// ;LoopbackQualified;     this.nodeSender_ConvertWrapper = windowSession_corr.drawAndChatVm.nodeSender_ConvertWrapper;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Override</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#800080;">getWindowSession</span><span style="color:#000000;">() { </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">; }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ####################  </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">listen_NodeCreatedEvent</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">NodeCreatedEvent</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">) {</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(234, 117, 0); font-style: italic; font-weight: bold;">NodeSig</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 128, 128);">nodeMain</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(64, 128, 128); font-style: italic;">event</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">nodeMain</span><span style="color: rgb(0, 0, 0);">;</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(0, 0, 191);">nodeCreatorAndConvertor</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">nodeSig2jfxNode_adjust</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">nodeMain</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">format</span><span style="color:#000000;">(</span><span style="color:#800000;">"Received %s :: %s"</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-weight:bold;">Instant</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">now</span><span style="color:#000000;">(), </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">));</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">listen_NodeMovedEvent</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">NodeMovedEvent</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeSig</span><span style="color:#000000;"> </span><span style="color:#808080;">nodeMain_deserialized</span><span style="color:#000000;"> = </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">.</span><span style="color:#0000bf;">nodeMain</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">Shape</span><span style="color:#000000;"> </span><span style="color:#808080;">shape</span><span style="color:#000000;"> = </span><span style="color:#808080;">nodeMain_deserialized</span><span style="color:#000000;">.</span><span style="color:#0000bf;">shape</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">Point</span><span style="color:#000000;"> </span><span style="color:#808080;">point</span><span style="color:#000000;"> = </span><span style="color:#808080;">shape</span><span style="color:#000000;">.</span><span style="color:#800080;">get_pt_TopLeftFront</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeSig</span><span style="color:#000000;"> </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;"> = </span><span style="color:#0000bf;">nodeSigManager_corr</span><span style="color:#000000;">.</span><span style="color:#800080;">get_LocalNonDeserialized_NodeSig_from_NodeSigManager</span><span style="color:#000000;">(</span><span style="color:#808080;">nodeMain_deserialized</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">Node</span><span style="color:#000000;"> </span><span style="color:#808080;">node</span><span style="color:#000000;"> = </span><span style="color:#808080;">nodeSig</span><span style="color:#000000;">.</span><span style="color:#0000bf;">fxNode_AssocConvert</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(128, 128, 128);">node</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">setLayoutX</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">point</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">getX</span><span style="color: rgb(0, 0, 0);">());</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(128, 128, 128);">node</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">setLayoutY</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">point</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">getY</span><span style="color: rgb(0, 0, 0);">());</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">format</span><span style="color:#000000;">(</span><span style="color:#800000;">"Received %s :: %s"</span><span style="color:#000000;">, </span><span style="color:#ea7500;font-weight:bold;">Instant</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">now</span><span style="color:#000000;">(), </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">));</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p></div></div></div></div></div></foreignObject><text x="2842" y="2929" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">public class NodeReceiver_ConvertHandler implements WindowSessionExecutor {...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 3607px; margin-left: 2842px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ################</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">determine_EventType_and_handle_EventCorrespondingly</span><span style="color:#000000;">(</span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeEvent</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">Class</span><span style="color:#000000;">&lt;? </span><span style="color:#0000ff;font-style:italic;">extends</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-style:italic;font-weight:bold;">NodeEvent</span><span style="color:#000000;">&gt; </span><span style="color:#808080;">clazz</span><span style="color:#000000;"> = </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">.</span><span style="color:#800080;text-decoration:underline;text-decoration-style:solid;">getClass</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;"> != </span><span style="color:#0000ff;font-style:italic;">null</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">NodeCreatedEvent</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">.</span><span style="color:#800080;">isAssignableFrom</span><span style="color:#000000;">(</span><span style="color:#808080;">clazz</span><span style="color:#000000;">)) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">printf</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt;- %5s %s%n    %s%n"</span><span style="color:#000000;">, </span><span style="color:#2a00ff;">5</span><span style="color:#000000;">, </span><span style="color:#800000;">"if (NodeCreatedEvent.class.isAssignableFrom(clazz)) {"</span><span style="color:#000000;">, </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">);</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">        </span><span style="color: rgb(128, 0, 128);">listen_NodeCreatedEvent</span><span style="color: rgb(0, 0, 0);">((</span><span style="color: rgb(234, 117, 0); font-weight: bold;">NodeCreatedEvent</span><span style="color: rgb(0, 0, 0);">) </span><span style="color: rgb(64, 128, 128); font-style: italic;">event</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">NodeMovedEvent</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">.</span><span style="color:#800080;">isAssignableFrom</span><span style="color:#000000;">(</span><span style="color:#808080;">clazz</span><span style="color:#000000;">)) {</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">        </span><span style="color: rgb(128, 0, 128);">listen_NodeMovedEvent</span><span style="color: rgb(0, 0, 0);">((</span><span style="color: rgb(234, 117, 0); font-weight: bold;">NodeMovedEvent</span><span style="color: rgb(0, 0, 0);">) </span><span style="color: rgb(64, 128, 128); font-style: italic;">event</span><span style="color: rgb(0, 0, 0);">);</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">NodeShapeSizeChangedEvent</span><span style="color:#000000;">.</span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;">.</span><span style="color:#800080;">isAssignableFrom</span><span style="color:#000000;">(</span><span style="color:#808080;">clazz</span><span style="color:#000000;">)) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#800080;">listen_NodeShapeSizeChangedEvent</span><span style="color:#000000;">((</span><span style="color:#ea7500;font-weight:bold;">NodeShapeSizeChangedEvent</span><span style="color:#000000;">) </span><span style="color:#408080;font-style:italic;">event</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p></div></div></div></div></div></foreignObject><text x="2842" y="3619" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">// ################...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 2947px; margin-left: 1682px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">DrawAndChatVm_ReceiveNetworkMsg</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">implements</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">WindowSessionExecutor</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">final</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">//  private final NodeReceiver_EventListener nodeReceiver_EventListener;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">  </span><span style="color: rgb(0, 0, 255); font-style: italic;">public</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">DrawAndChatVm_ReceiveNetworkMsg</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(234, 117, 0); font-weight: bold;">WindowSession</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(64, 128, 128); font-style: italic;">windowSession_corr</span><span style="color: rgb(0, 0, 0);">) {</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">    </span><span style="color: rgb(0, 0, 255); font-style: italic;">this</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">windowSession_corr</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(64, 128, 128); font-style: italic;">windowSession_corr</span><span style="color: rgb(0, 0, 0);">;</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">//    this.nodeReceiver_EventListener = new NodeReceiver_EventListener(windowSession_corr);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Override</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">WindowSession</span><span style="color:#000000;"> </span><span style="color:#800080;">getWindowSession</span><span style="color:#000000;">() { </span><span style="color:#7f0055;font-style:italic;font-weight:bold;">return</span><span style="color:#000000;"> </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">; }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">//  public NodeReceiver_EventListener get_nodeReceiver_EventListener() { return nodeReceiver_EventListener; }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#3f7f5f;">// ####################  </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">  </span><span style="color: rgb(0, 0, 255); font-style: italic;">public</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 255); font-style: italic;">void</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 0, 128);">initListenNetworkMsg</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(234, 117, 0); font-weight: bold;">Stage</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(64, 128, 128); font-style: italic;">stage</span><span style="color: rgb(0, 0, 0);">) {</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// ########</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#ea7500;font-weight:bold;">AnchorPane</span><span style="color:#000000;"> </span><span style="color:#808080;">pane_JavafxRoot</span><span style="color:#000000;"> = </span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">AnchorPane</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">pane_JavafxRoot</span><span style="color:#000000;"> = </span><span style="color:#808080;">pane_JavafxRoot</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#408080;font-style:italic;">stage</span><span style="color:#000000;">.</span><span style="color:#800080;">setTitle</span><span style="color:#000000;">(</span><span style="color:#800000;">"2 "</span><span style="color:#000000;"> + </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">sessionNewOrLoadOrReceive</span><span style="color:#000000;"> + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbOccupation</span><span style="color:#000000;">.</span><span style="color:#0000bf;">dbName</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#408080;font-style:italic;">stage</span><span style="color:#000000;">.</span><span style="color:#800080;">setScene</span><span style="color:#000000;">(</span><span style="color:#0000ff;font-style:italic;">new</span><span style="color:#000000;"> </span><span style="color:#800080;">Scene</span><span style="color:#000000;">(</span><span style="color:#808080;">pane_JavafxRoot</span><span style="color:#000000;">, </span><span style="color:#2a00ff;">800</span><span style="color:#000000;">, </span><span style="color:#2a00ff;">500</span><span style="color:#000000;">));</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000bf;">windowSession_corr</span><span style="color:#000000;">.</span><span style="color:#800080;">listen_ConfirmClose</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;">stage</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#408080;font-style:italic;">stage</span><span style="color:#000000;">.</span><span style="color:#800080;">show</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#3f7f5f;">// ########</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (!</span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">) {</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">      </span><span style="color: rgb(0, 0, 191);">windowSession_corr</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">drawAndChatVm</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(0, 0, 191);">nodeReceiver_EventListener</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128);">listen_forGeneralNodeEvent</span><span style="color: rgb(0, 0, 0);">();</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">else</span><span style="color:#000000;"> {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; init_Session() :: det_DisableReceiveNetworkMsg_Kafka :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">StaticValueDebug</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-weight:bold;">det_DisableReceiveNetworkMsg_Kafka</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p></div></div></div></div></div></foreignObject><text x="1682" y="2959" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">public class DrawAndChatVm_ReceiveNetworkMsg implements WindowSessionExecutor {...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 877px; margin-left: 6502px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><div style="padding: 0px 0px 0px 2px;"><div style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 8pt; white-space: pre;"><p style="margin: 0px;"><span style="color: rgb(100, 100, 100); background-color: rgb(255, 255, 204);">@Component</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">class</span><span style="color:#000000;"> </span><span style="color:#ea7500;font-weight:bold;">DbThreadHelper</span><span style="color:#000000;"> {</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><br /></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">  </span><span style="color:#646464;">@Autowired</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color:#000000;">  </span><span style="color:#646464;">@Qualifier</span><span style="color:#000000;">(</span><span style="color:#800000;">"lcemf_01"</span><span style="color:#000000;">)</span></span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">  </span><span style="color: rgb(0, 0, 255); font-style: italic;">public</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(64, 128, 128); font-style: italic; font-weight: bold;">EntityManager</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 191);">em_01</span><span style="color: rgb(0, 0, 0);">;</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Autowired</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Qualifier</span><span style="color:#000000;">(</span><span style="color:#800000;">"lcemf_02"</span><span style="color:#000000;">)</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">EntityManager</span><span style="color:#000000;"> </span><span style="color:#0000bf;">em_02</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#646464;">@Autowired</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">private</span><span style="color:#000000;"> </span><span style="color:#408080;font-style:italic;font-weight:bold;">ApplicationContext</span><span style="color:#000000;"> </span><span style="color:#0000bf;">context</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">long</span><span style="color:#000000;"> </span><span style="color:#0000bf;">time_LastPersist_db01</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">  </span><span style="color: rgb(100, 100, 100);">@Transactional</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 0, 128);">value</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(128, 0, 0);">"txm_01"</span><span style="color: rgb(0, 0, 0);">)</span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  </span><span style="color:#0000ff;font-style:italic;">public</span><span style="color:#000000;"> </span><span style="color:#0000ff;font-style:italic;">void</span><span style="color:#000000;"> </span><span style="color:#800080;">persist_01</span><span style="color:#000000;">(</span><span style="color:#408080;font-style:italic;font-weight:bold;">Queue</span><span style="color:#000000;">&lt;</span><span style="color:#ea7500;font-weight:bold;">NodeEvent</span><span style="color:#000000;">&gt; </span><span style="color:#408080;font-style:italic;">queue_nodeEvent</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">int</span><span style="color:#000000;"> </span><span style="color:#808080;">i</span><span style="color:#000000;"> = </span><span style="color:#2a00ff;">0</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    </span><span style="color:#0000ff;font-style:italic;">while</span><span style="color:#000000;"> (!</span><span style="color:#408080;font-style:italic;">queue_nodeEvent</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;text-decoration:underline;text-decoration-style:solid;">isEmpty</span><span style="color:#000000;">()) { </span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#808080;">i</span><span style="color:#000000;">++;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#ea7500;font-weight:bold;">Thread</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">currentThread</span><span style="color:#000000;">().</span><span style="color:#800080;">isInterrupted</span><span style="color:#000000;">()) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">String</span><span style="color:#000000;"> </span><span style="color:#808080;">msg</span><span style="color:#000000;"> = </span><span style="color:#800000;">"&gt; Interrupted --&gt; break batch persist() loop :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">Thread</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">currentThread</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#808080;">msg</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">err</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#808080;">msg</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#0000ff;font-style:italic;">break</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#808080;">i</span><span style="color:#000000;"> == </span><span style="color:#2a00ff;">150</span><span style="color:#000000;">) {</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"Too many Event inside a Batch persist, need flush. More ::"</span><span style="color:#000000;"> + </span><span style="color:#408080;font-style:italic;">queue_nodeEvent</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">        </span><span style="color:#0000ff;font-style:italic;">break</span><span style="color:#000000;">;</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">      </span><span style="color: rgb(234, 117, 0); font-style: italic; font-weight: bold;">NodeEvent</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(128, 128, 128);">event</span><span style="color: rgb(0, 0, 0);"> = </span><span style="color: rgb(64, 128, 128); font-style: italic;">queue_nodeEvent</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128); font-style: italic; text-decoration: underline solid;">poll</span></span><span style="color: rgb(0, 0, 0);"><span style="background-color: rgb(255, 255, 204);">();</span><span style="background-color: rgb(255, 255, 255);"> </span></span><span style="background-color: rgb(255, 255, 255); color: rgb(63, 127, 95);">// well if concurrent can null...</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">out</span><span style="color:#000000;">.</span><span style="color:#800080;">println</span><span style="color:#000000;">(</span><span style="color:#800000;">"&gt;&gt; em.persist() :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">DbOccupation</span><span style="color:#000000;">.</span><span style="color:#644632;font-weight:bold;">DbName</span><span style="color:#000000;">.</span><span style="color:#0000c0;font-style:italic;font-weight:bold;">db_drawandchat_01</span><span style="color:#000000;"> + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#ea7500;font-weight:bold;">Thread</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">currentThread</span><span style="color:#000000;">().</span><span style="color:#800080;">getName</span><span style="color:#000000;">() + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#808080;">event</span><span style="color:#000000;"> + </span><span style="color:#800000;">" :: "</span><span style="color:#000000;"> + </span><span style="color:#0000bf;">em_01</span><span style="color:#000000;">);</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000ff;font-style:italic;">if</span><span style="color:#000000;"> (</span><span style="color:#808080;">event</span><span style="color:#000000;"> != </span><span style="color:#0000ff;font-style:italic;">null</span><span style="color:#000000;">) {</span></p><p style="margin: 0px;"><span style="background-color: rgb(255, 255, 204);"><span style="color: rgb(0, 0, 0);">        </span><span style="color: rgb(0, 0, 191);">em_01</span><span style="color: rgb(0, 0, 0);">.</span><span style="color: rgb(128, 0, 128); font-style: italic; text-decoration: underline solid;">persist</span><span style="color: rgb(0, 0, 0);">(</span><span style="color: rgb(128, 128, 128);">event</span><span style="color: rgb(0, 0, 0);">); </span><span style="color: rgb(63, 127, 95);">// </span></span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">      </span><span style="color:#0000bf;">time_LastPersist_db01</span><span style="color:#000000;"> = </span><span style="color:#ea7500;font-weight:bold;">System</span><span style="color:#000000;">.</span><span style="color:#800080;font-style:italic;">currentTimeMillis</span><span style="color:#000000;">();</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">    }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><span style="color:#000000;">  }</span></p><p style="background-color: rgb(255, 255, 255); margin: 0px;"><br /></p></div></div></div></div></div></foreignObject><text x="6502" y="889" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">@Component...</text></switch></g><path d="M 500 330 L 160 780 L 150 980 L 260 1110 L 230 1150 L 1710 1420 L 1960 1600 L 2000 1150 L 2800.02 1278.4" fill="none" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 2806.69 1279.47 L 2797.09 1282.49 L 2800.02 1278.4 L 2798.52 1273.6 Z" fill-opacity="0.5" fill="#45008a" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1339px; margin-left: 1264px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="1264" y="1342" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><path d="M 310 1100 L 1780 130 L 1960 300 L 949.41 696.31" fill="none" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 943.12 698.78 L 949.86 691.3 L 949.41 696.31 L 953.14 699.68 Z" fill-opacity="0.5" fill="#45008a" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 246px; margin-left: 1606px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="1606" y="249" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><path d="M 310 1110 L 1960 1140 L 1430 1180 L 1000.04 1131.14" fill="none" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 993.33 1130.38 L 1002.78 1126.92 L 1000.04 1131.14 L 1001.77 1135.87 Z" fill-opacity="0.5" fill="#45008a" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1134px; margin-left: 1622px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="1622" y="1138" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><path d="M 2830 1280 L 3260 770 L 3250 1080 L 3200 1160 L 3700.31 1307.15" fill="none" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 3706.78 1309.05 L 3696.88 1310.83 L 3700.31 1307.15 L 3699.42 1302.2 Z" fill-opacity="0.5" fill="#45008a" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 905px; margin-left: 3256px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="3256" y="909" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><path d="M 3280 1080 L 4270 270 L 4290 580 L 4860 370 L 4530 680 L 3750.09 719.49" fill="none" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 3743.35 719.83 L 3752.11 714.88 L 3750.09 719.49 L 3752.57 723.87 Z" fill-opacity="0.5" fill="#45008a" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 535px; margin-left: 4414px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="4414" y="538" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><path d="M 3740 1310 L 4600 900 L 4690 960 L 4670 980 L 4210 1440 L 4322.55 1543.17" fill="none" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 4327.53 1547.73 L 4317.85 1544.97 L 4322.55 1543.17 L 4323.93 1538.33 Z" fill-opacity="0.5" fill="#45008a" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 901px; margin-left: 4599px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="4599" y="905" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><path d="M 4330 1540 L 4160 1260 L 4224.19 2059.93" fill="none" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 4224.73 2066.66 L 4219.53 2058.05 L 4224.19 2059.93 L 4228.5 2057.33 Z" fill-opacity="0.5" fill="#45008a" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1502px; margin-left: 4180px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="4180" y="1505" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><path d="M 4340 1560 L 5160 2130 L 5310 2300 L 5290 1410 L 6600 1380 L 7870 1690 L 8070.17 1641.96" fill="none" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 8076.74 1640.38 L 8069.04 1646.86 L 8070.17 1641.96 L 8066.94 1638.11 Z" fill-opacity="0.5" fill="#45008a" stroke="#45008a" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1402px; margin-left: 5650px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="5650" y="1406" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><image x="8079.5" y="1589.5" width="80" height="80" xlink:href="data:image/png;base64,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" pointer-events="none"/><path d="M 4225 2070 L 4250 2095 L 4225 2120 L 4200 2095 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="4225" cy="2095" rx="15" ry="15" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="none"/><rect x="4214.5" y="2089" width="21" height="12" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 4214.5 2089 L 4225 2095 L 4235.5 2089" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 4225 2120 L 4240 3490 L 4430 4010 L 3040 3710 L 3040 3270 L 2416.4 2507.82" fill="none" stroke="#ff9933" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 2412.12 2502.6 L 2421.31 2506.71 L 2416.4 2507.82 L 2414.34 2512.41 Z" fill-opacity="0.5" fill="#ff9933" stroke="#ff9933" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3912px; margin-left: 3975px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="3975" y="3915" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><path d="M 180 1320 L 1840 3020 L 2030 3380 L 4216.24 2125.03" fill="none" stroke="#ff9933" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 4222.09 2121.67 L 4216.53 2130.05 L 4216.24 2125.03 L 4212.05 2122.25 Z" fill-opacity="0.5" fill="#ff9933" stroke="#ff9933" stroke-opacity="0.5" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3269px; margin-left: 1972px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Label</div></div></div></foreignObject><text x="1972" y="3272" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">Label</text></switch></g><ellipse cx="135" cy="965" rx="35" ry="35" fill-opacity="0.5" fill="#e1d5e7" stroke="#9673a6" stroke-opacity="0.5" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 66px; height: 1px; padding-top: 963px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font style="font-size: 20px;">1</font></div></div></div></foreignObject><text x="134" y="966" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">1</text></switch></g><ellipse cx="135" cy="1295" rx="35" ry="35" fill-opacity="0.5" fill="#e1d5e7" stroke="#9673a6" stroke-opacity="0.5" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 66px; height: 1px; padding-top: 1293px; margin-left: 101px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font style="font-size: 20px;">2</font></div></div></div></foreignObject><text x="134" y="1296" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">2</text></switch></g><ellipse cx="2385" cy="2465" rx="35" ry="35" fill-opacity="0.5" fill="#e1d5e7" stroke="#9673a6" stroke-opacity="0.5" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 66px; height: 1px; padding-top: 2463px; margin-left: 2351px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font style="font-size: 20px;">3:End<br /></font></div></div></div></foreignObject><text x="2384" y="2466" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">3:End&#xa;</text></switch></g><ellipse cx="515" cy="285" rx="35" ry="35" fill-opacity="0.5" fill="#e1d5e7" stroke="#9673a6" stroke-opacity="0.5" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 66px; height: 1px; padding-top: 283px; margin-left: 481px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Consolas; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font style="font-size: 20px;">0</font></div></div></div></foreignObject><text x="514" y="286" fill="rgb(0, 0, 0)" font-family="Consolas" font-size="11px" text-anchor="middle">0</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>